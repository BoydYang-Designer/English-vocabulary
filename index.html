<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vocabulary Explorer</title>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            let jsonUrl = "https://github.com/BoydYang-Designer/English-vocabulary/raw/refs/heads/main/Z_total_words.json";
            let wordsData = {};
            
            fetch(jsonUrl)
                .then(response => response.json())
                .then(data => {
                    wordsData = data;
                });
            
            function showWords(letter) {
                let container = document.getElementById("word-list");
                container.innerHTML = "";
                let filteredWords = Object.keys(wordsData).filter(word => word.startsWith(letter) && wordsData[word].phonetic);
                filteredWords.forEach(word => {
                    let btn = document.createElement("button");
                    btn.innerText = word;
                    btn.onclick = function () { showWordDetails(word); };
                    container.appendChild(btn);
                });
            }

            function showWordDetails(word) {
                let details = wordsData[word];
                document.getElementById("word-details").innerHTML = `
                    <h2>${word}</h2>
                    <button onclick="playAudio('${details.audio}')">🔊 音標 ${details.phonetic}</button>
                    <button onclick="playAudio('${details.meaning_audio}')">🔊 English Meaning</button>
                    <p><strong>中文意思:</strong> ${details.chinese}</p>
                    <p>${details.english_meaning}</p>
                `;
            }

            function playAudio(url) {
                let audio = new Audio(url);
                audio.play();
            }
        });
    </script>
</head>
<body>
    <h1>Vocabulary Explorer</h1>
    <div id="letters">
        <script>
            document.write("ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("").map(letter => `<button onclick='showWords("${letter.toLowerCase()}")'>${letter}</button>`).join(" "));
        </script>
    </div>
    <div id="word-list"></div>
    <div id="word-details"></div>
</body>
</html>
