/* ==========================================
   🌍 全域設定 (Global Styles)
========================================== */
html, body {
    overflow-x: hidden; /* 禁止左右滾動 */
    overflow-y: auto;   /* 啟用上下滾動 */
    touch-action: manipulation;
    font-family: Arial, sans-serif;
    background-color: #f9f9f9;
    margin: 0;
    padding: 0;
}

/* ==========================================
   🏷️ 標題樣式 (Headings)
========================================== */
h1, h2 {
    text-align: center;
    background: #333;
    color: white;
    padding: 15px 0;
    margin: 0;
    font-size: 24px;
}

/* ==========================================
   📦 主要區塊樣式 (Main Sections)
========================================== */
#mainMenu, #quizCategories, #quizArea, #quizResult, #sentenceQuizCategories, #sentenceQuizArea {
    max-width: 100%;
    width: 90%; /* 保證元素不超出螢幕寬度 */
    margin: 10px auto; /* 自動居中 */
    background-color: #fff;
    padding: 15px;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

/* word-link 按鈕樣式 */
.word-link {
    background-color: #9babc4; /* 藍色背景 */
    color: white; /* 白色文字 */
    padding: 5px 10px; /* 內距 */
    border-radius: 15px; /* 圓角 */
    border: none; /* 無邊框 */
    cursor: pointer; /* 手型指標 */
    text-decoration: none; /* 移除下劃線 */
    font-size: 18px; /* 字體大小與其他按鈕一致 */
    transition: background-color 0.3s ease; /* 背景顏色平滑過渡 */
    margin-right: 5px; /* 右側間距，與其他元素分隔 */
}

.word-link:hover {
    background-color: #0056b3; /* 懸停時深藍色 */
}

/* phonetic-btn 按鈕樣式 */
.phonetic-btn {
    background-color: #9babc4; /* 綠色背景 */
    color: white; /* 白色文字 */
    padding: 5px 10px; /* 內距 */
    border-radius: 15px; /* 圓角 */
    border: none; /* 無邊框 */
    cursor: pointer; /* 手型指標 */
    text-decoration: none; /* 移除下劃線 */
    font-size: 18px; /* 字體大小與其他按鈕一致 */
    transition: background-color 0.3s ease; /* 背景顏色平滑過渡 */
    margin-right: 5px; /* 右側間距，與其他元素分隔 */
}

.phonetic-btn:hover {
    background-color: #218838; /* 懸停時深綠色 */
}

/* Letter input boxes for sentence word quiz */
.letter-input {
    width: 40px;  /* 您想要的新寬度 */
    height: 40px; /* 您想要的新高度 */
    font-size: 24px; /* 加大字體讓格子看起來更飽滿 */
    padding: 5px;
    border: 1px solid #ccc;
    border-radius: 5px;
    text-align: center;
    text-transform: lowercase;
    margin: 2px;
    box-sizing: border-box;
}

/* [NEW] Style for incorrect letters in Word Quiz input boxes */
.incorrect-letter-input {
    color: red !important; /* Use !important to override other styles */
    font-weight: bold;
}


/* 手機適配 */
@media (max-width: 600px) {
    .letter-input {
        width: 32px;
        height: 32px;
        font-size: 18px;
    }

    .category-title {
        font-size: 16px;
        margin: 8px 0;
    }
}

/* ==========================================
   🔘 按鈕樣式 (Buttons)
========================================== */
.button-container {
    display: flex;
    justify-content: center;
    gap: 10px;
    flex-wrap: wrap;
    width: 100%;
    margin-top: 10px;
}

.button, .back-button, #startFilteredQuizBtn, #startSentenceQuizBtn, #startReorganizeQuizBtn {
    display: block;
    width: 150px;
    height: 50px;
    background-color: #424d57; /* 默認按鈕顏色 */
    color: white;
    font-size: 18px;
    border-radius: 25px;
    border: none;
    cursor: pointer;
    text-align: center;
    margin: 10px auto;
    font-weight: bold;
    transition: background-color 0.3s ease;
}

.button:hover, .back-button:hover {
    background-color: #6e8191;
}

#cancelBtn {
    background-color: #f44336;
    color: white;
}

#cancelBtn:hover {
    background-color: #d32f2f;
}

#startFilteredQuizBtn, #startSentenceQuizBtn, #startReorganizeQuizBtn, #startRewordQuizBtn {
    background-color: #4CAF50; /* 綠色背景，與 Start Quiz 一致 */
    padding: 10px 20px;
}

#startFilteredQuizBtn:hover, #startSentenceQuizBtn:hover, #startReorganizeQuizBtn:hover, #startRewordQuizBtn:hover {
    background-color: #45a049; /* 懸停時略暗的綠色 */
}

/* 其他按鈕樣式保持不變 */
.category-button {
    padding: 10px 15px;
    margin: 5px;
    background-color: #617194;
    color: white;
    border-radius: 20px;
    border: none;
    cursor: pointer;
    transition: background-color 0.3s ease;
    font-size: 18px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.category-button:hover {
    background-color: #777;
}

.category-button.selected {
    background-color: #90EE90;
    color: #000;
    border: 2px solid #4CAF50;
}

.button-group {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-top: 20px;
    width: 390px;
    margin-left: auto; /* 加入這行 */
    margin-right: auto; /* 加入這行 */
    flex-wrap: wrap; /* 允許換行 */
}

/* ==========================================
   📑 結果樣式 (Results)
========================================== */
.result-item {
    padding: 10px;
    margin-bottom: 10px;
    background-color: #f9f9f9;
    border: 1px solid #ddd;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.result-item.correct {
    background-color: #d4edda;
    border-color: #28a745;
}

.result-item.wrong {
    background-color: #f8d7da;
    border-color: #dc3545;
}

.result-item.unanswered {
    background-color: #fff3cd;
    border-color: #ffc107;
}

/* ==========================================
   📝 輸入框樣式 (Inputs)
========================================== */
#wordInput {
    display: flex; /* Use flexbox to arrange boxes */
    flex-wrap: wrap; /* Allow wrapping for long words */
    justify-content: center; /* Center the boxes */
    gap: 5px; /* Small gap between boxes */
    width: 100%;
    max-width: 600px; /* Increased max-width for better layout */
    margin: 10px auto; /* Center the container */
}

/* Letter input boxes for word quiz */
.letter-box {
    width: 40px; /* Fixed width for square shape */
    height: 40px; /* Equal height for square shape */
    padding: 5px; /* Reduced padding for balance */
    font-size: 18px; /* Maintain readable font size */
    border: 1px solid #ccc; /* Border for visibility */
    border-radius: 5px; /* Slight rounding for aesthetics */
    text-align: center; /* Center the letter */
    text-transform: lowercase; /* Ensure lowercase input */
    margin: 2px; /* Small margin between boxes */
    display: inline-flex; /* Use flex to center content */
    align-items: center; /* Vertically center text */
    justify-content: center; /* Horizontally center text */
    box-sizing: border-box; /* Include padding and border in size */
}

/* Non-input boxes (for spaces or hyphens) */
.non-input-box {
    width: 40px; /* Match letter-box size */
    height: 40px; /* Match letter-box size */
    line-height: 40px; /* Center text vertically */
    text-align: center; /* Center text horizontally */
    font-size: 18px; /* Match letter-box font size */
    margin: 2px; /* Match letter-box margin */
    display: inline-flex; /* Match letter-box display */
    align-items: center; /* Match letter-box alignment */
    justify-content: center; /* Match letter-box alignment */
}

/* Mobile adaptation for letter boxes */
@media (max-width: 600px) {
    .letter-box, .non-input-box {
        width: 32px; /* Smaller size for mobile */
        height: 32px; /* Equal height for square shape */
        font-size: 16px; /* Slightly smaller font for mobile */
        padding: 4px; /* Adjusted padding for mobile */
        margin: 1px; /* Smaller margin for mobile */
    }
}

/* Word hint text for word quiz */
#wordHint {
    font-size: 28px; /* Larger font size for better visibility */
    margin: 20px 10px;
    text-align: center;
    letter-spacing: 3px;
    color: #333;
    max-width: 90%; /* Prevent overflow */
    word-wrap: break-word; /* Ensure long hints wrap */
}

/* Mobile adaptation for word hint */
@media (max-width: 600px) {
    #wordHint {
        font-size: 22px; /* Slightly smaller for mobile */
        letter-spacing: 2px;
        margin: 15px 5px;
    }
}

/* ==========================================
   🔗 連結樣式 (Links)
========================================== */
.word-link {
    color: #007bff;
    text-decoration: none;
}

.word-link:hover {
    text-decoration: underline;
}

/* ==========================================
   🎧 音標樣式 (Phonetics)
========================================== */
.phonetic-btn {
    background: none;
    border: none;
    color: #007bff;
    cursor: pointer;
    font-size: 18px;
    padding: 0;
}

.phonetic-btn:hover {
    text-decoration: underline;
}

/* ==========================================
   📊 進度條樣式 (Progress Bar)
========================================== */
#progressBarContainer {
    margin-bottom: 20px;
    width: 100%;
    background-color: #e0e0e0;
    border-radius: 5px;
    height: 20px;
}

#progressBar {
    height: 100%;
    width: 0%;
    background-color: #4caf50;
    border-radius: 5px;
    transition: width 0.3s ease;
}

/* ==========================================
   ⭐ 重要單字標記 (Important Words)
========================================== */
.important-word {
    display: flex;
    align-items: center;
    gap: 5px;
}

.important-checkbox {
    width: 20px;
    height: 20px;
    transform: scale(1.3);
    cursor: pointer;
    border-radius: 6px;
    border: 2px solid #5c5c5c;
    appearance: none;
    background-color: white;
    transition: all 0.2s ease-in-out;
}

.important-checkbox:checked {
    background-color: #bd1438;
    border-color: #ff002b;
}

/* ==========================================
   ❗ 錯誤單字列表樣式 (Wrong Words List)
========================================== */
#wrongWordsList {
    max-width: 100%;
    width: 90%;
    margin: 10px auto;
    background-color: #fff;
    padding: 15px;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.wrong-word-item {
    display: flex;
    align-items: center;
    padding: 10px;
    margin-bottom: 10px;
    background-color: #f9f9f9;
    border: 1px solid #ddd;
    border-radius: 8px;
    justify-content: space-between;
}

.delete-btn {
    background-color: #f44336;
    color: white;
    padding: 5px 10px;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.delete-btn:hover {
    background-color: #d32f2f;
}

.delete-btn.selected {
    background-color: #d32f2f;
}

/* ==========================================
   🔄 重組單字區塊樣式 (Word Blocks)
========================================== */
.word-blocks-container {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    margin: 20px auto;
    justify-content: center;
    max-width: 90%;
}

.word-block {
    padding: 10px 15px; /* 調整內距，適中大小 */
    background-color: #e9ecef; /* 更柔和的背景色 */
    border: 1px solid #b0b0b0; /* 更細緻的邊框 */
    border-radius: 6px; /* 稍大的圓角，現代感 */
    cursor: pointer;
    user-select: none;
    font-size: 20px; /* 加大字體，增強可讀性 */
    font-weight: 500; /* 中等字重，清晰但不厚重 */
    line-height: 1.4; /* 行高改善文字垂直居中 */
    transition: all 0.2s ease; /* 平滑過渡所有屬性 */
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* 輕微陰影，增加立體感 */
    min-width: 50px; /* 確保短詞有足夠寬度 */
    text-align: center; /* 文字居中 */
}

.word-block:hover {
    background-color: #d8dfe6; /* 懸停時更明顯的背景變化 */
    transform: translateY(-2px); /* 輕微上移，增加互動感 */
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.15); /* 懸停時陰影加深 */
}

.word-block.selected {
    background-color: #b0c4de; /* 選中時藍灰色，與 UI 其他部分協調 */
    border-color: #4682b4; /* 邊框強調選中狀態 */
    opacity: 1; /* 移除透明度，增強可見性 */
    box-shadow: 0 3px 5px rgba(0, 0, 0, 0.2); /* 選中時更強的陰影 */
}

/* 正確的單字塊 */
.word-block.correct {
    background-color: #d4edda; /* 淺綠色 */
    border: 1px solid #28a745;
}

/* 錯誤的單字塊 */
.word-block.incorrect {
    background-color: #f8d7da; /* 淺紅色 */
    border: 3px solid red;
}

/* 未填入的占位符 */
.construction-placeholder.unfilled {
    background-color: #ffe9a2; /* 淺黃色 */
    border: 3px solid red;
    border-radius: 5px; /* 圓角 */
}

/* 重組提示文字 */
#sentenceHint, #reorganizeSentenceHint {
    font-size: 24px; /* 略小字體，與新尺寸協調 */
    margin: 20px 10px;
    text-align: center;
    letter-spacing: 3px;
    color: #333;
    max-width: 90%; /* 防止提示文字溢出 */
    word-wrap: break-word; /* 長句子自動換行 */
}

/* 手機適配 */
@media (max-width: 600px) {
    .word-blocks-container {
        gap: 8px; /* 手機上縮小間距 */
        max-width: 95%; /* 更充分利用螢幕 */
    }

    .word-block {
        padding: 8px 12px; /* 手機上稍減內距 */
        font-size: 18px; /* 手機上字體稍小 */
        min-width: 40px; /* 短詞最小寬度 */
        border-radius: 5px; /* 手機上圓角略小 */
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1); /* 手機上陰影更輕 */
    }

    .word-block:hover {
        transform: none; /* 手機上禁用上移效果，減少誤觸 */
    }

    .construction-area {
        min-height: 50px;
        padding: 10px;
        gap: 6px;
        max-width: 95%;
    }

    #sentenceHint, #reorganizeSentenceHint {
        font-size: 20px;
        letter-spacing: 2px;
        margin: 15px 5px;
    }

    #reorganizeWordHint {
        font-size: 24px;
        margin: 20px 10px;
        text-align: center;
        letter-spacing: 3px;
        color: #333;
    }
}

/* Reword Quiz 專用字母塊容器 */
#rewordLetterBlocksContainer {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    margin: 20px auto;
    justify-content: center;
    max-width: 90%;
}

/* Reword Quiz 專用構建區域 */
#rewordConstructionArea {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    align-items: center;
    min-height: 60px;
    border: 2px dashed #a0a0a0;
    padding: 12px;
    gap: 8px;
    margin: 20px auto;
    max-width: 90%;
    background-color: #f9f9f9;
    border-radius: 8px;
}

/* 重組提示文字 */
#rewordHint {
    font-size: 24px;
    margin: 20px 10px;
    text-align: center;
    letter-spacing: 3px;
    color: #333;   
}

/* PC 上放大字體 */
@media (min-width: 601px) {
    #rewordHint {
        font-size: 28px; /* PC 上放大到 28px */
    }
}

.word-block-placeholder {
    display: inline-block;
    margin: 5px;
    min-width: 60px; /* 根據單字長度調整 */
    min-height: 30px; /* 確保空位有高度 */
    border: 1px dashed #ccc; /* 可選：顯示占位符邊框 */
    vertical-align: middle;
}

.word-block-placeholder.empty {
    background-color: #f0f0f0; /* 可選：空位背景色 */
}

.word-block {
    display: inline-block;
    padding: 5px 10px;
    background-color: #e0e0e0;
    border-radius: 5px;
    cursor: pointer;
}

/* 構建區域的占位符樣式 */
.construction-placeholder {
    display: inline-block;
    min-width: 60px; /* 根據單字長度調整 */
    min-height: 30px; /* 確保空間可見 */
    margin: 5px;
    border: 1px dashed #ccc; /* 虛線邊框提示空間 */
}

.construction-placeholder:empty {
    background-color: #f0f0f0; /* 空的占位符顯示灰色背景 */
}

.phonetic-explanation {
    margin-top: 10px;
    border-top: 1px solid #ccc;
}

.phonetic-explanation p {
    font-size: 0.8em;
    color: #333;
}

/* 新增：分類標題樣式 */
.category-title {
    text-align: center;
    font-size: 20px;
    font-weight: bold;
    color: #375c85;
    margin: 10px 0;
}